{"remainingRequest":"/Users/maizuru1/umilog_app/umilog_APP/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/maizuru1/umilog_app/umilog_APP/src/components/ AxiosTest.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/maizuru1/umilog_app/umilog_APP/src/components/ AxiosTest.vue","mtime":1693874669387},{"path":"/Users/maizuru1/umilog_app/umilog_APP/node_modules/cache-loader/dist/cjs.js","mtime":1692338943000},{"path":"/Users/maizuru1/umilog_app/umilog_APP/node_modules/babel-loader/lib/index.js","mtime":1692338943000},{"path":"/Users/maizuru1/umilog_app/umilog_APP/node_modules/cache-loader/dist/cjs.js","mtime":1692338943000},{"path":"/Users/maizuru1/umilog_app/umilog_APP/node_modules/vue-loader/lib/index.js","mtime":1692338943000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKLy8KaW1wb3J0IHtDb21wb25lbnQsVnVlfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IERhdGVwaWNrZXIgZnJvbSAndnVlanMtZGF0ZXBpY2tlcic7CmltcG9ydCB7IGphIH0gZnJvbSAndnVlanMtZGF0ZXBpY2tlci9kaXN0L2xvY2FsZSc7Ci8vCmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF4aW9zVGVzdCBleHRlbmRzIFZ1ZSB7CiAgLy/jgIDml6Xku5jjgpLmjIflrpoKICB0ZXh0OnN0cmluZz0iMjAyMy0wNy0yNyI7CgogIGFzeW5jIGdldF9kYXRhKCl7CiAgICAgIC8vIHBvc3TjgafpgIHkv6HjgZnjgovjg4fjg7zjgr8KICAgICAgbGV0IHBvc3RfZGF0YT17CiAgICAgICAgICAiZGF0ZSI6dGhpcy50ZXh0LAogICAgICB9OwoKICAgICAgLy/msLTmt7HjgZTjgajjga7jg4fjg7zjgr/jgpLmjIHjgaPjgabjgY/jgovjgIIKICAgICAgLy8gIHBvc3Tjgafjg4fjg7zjgr/jgpLpgIHkv6EKICAgICAgbGV0IGV4dHJhY3RfZGF0YTp7W2tleTpudW1iZXJdOkFycmF5PGFueT59ID0gYXdhaXQgYXhpb3MucG9zdCgnaHR0cHM6Ly84YmtkNjV2cmJqLmV4ZWN1dGUtYXBpLmFwLW5vcnRoZWFzdC0xLmFtYXpvbmF3cy5jb20vZGV2Jyxwb3N0X2RhdGEpCiAgICAgICAgICAudGhlbigocmVzcG9uc2UpPT57CiAgICAgICAgICAgICAgLy8g44OH44O844K/5Y+W5b6XCiAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlX2RhdGE9cmVzcG9uc2UuZGF0YS5ib2R5OwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlX2RhdGEpOwogICAgICAgICAgICAgIC8vIHNvcnRfZGF0YemWouaVsOOBruaIu+OCiuWApO+8iOOCveODvOODiOOBleOCjOOBn+ODh+ODvOOCv++8ieOCkuS7o+WFpQogICAgICAgICAgICAgIGxldCBzb3J0X2RhdGE9dGhpcy5zb3J0X2RhdGEocmVzcG9uc2VfZGF0YSk7CiAgICAgICAgICAgICAgLy8g44OH44O844K/44KSMeaZgumWk+OBlOOBqOOBrumbhuWQiOOBq+WIhuOBkeOCiwogICAgICAgICAgICAgIGxldCBzcGxpdF9kYXRhPXRoaXMuc3BsaXRfaG91cihzb3J0X2RhdGEpOwogICAgICAgICAgICAgIC8vIOODh+ODvOOCv+OCkuawtOa3seavjuOBq+OBqOOCiwogICAgICAgICAgICAgIGxldCBleHRyYWN0X2RhdGEyPXRoaXMuZXh0cmFjdF9kYXRhKHNwbGl0X2RhdGEpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGV4dHJhY3RfZGF0YTIpOwogICAgICAgICAgICAgIC8vNW3jgarjga7jgafjgqTjg7Pjg4fjg4Pjgq/jgrnvvJUKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhleHRyYWN0X2RhdGEyWzVdKTsKICAgICAgICAgICAgICByZXR1cm4gZXh0cmFjdF9kYXRhMjsKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIGV4dHJhY3RfZGF0YQogIH0KCiAgLy8g44OH44O844K/44KS44K944O844OI44GZ44KL44Gf44KB44Gu6Zai5pWwCiAgc29ydF9kYXRhKHJlc3BvbnNlX2RhdGE6YW55KXsKICAgIGxldCB0aW1lX2RhdGE6QXJyYXk8c3RyaW5nPj1bXQogICAgbGV0IHNvcnRfZGF0YTphbnk9W107CiAgICByZXNwb25zZV9kYXRhLmZvckVhY2goKGVsZW1lbnQ6IHsgdGltZXN0YW1wOiBzdHJpbmc7IH0pID0+IHsKICAgICAgdGltZV9kYXRhLnB1c2goZWxlbWVudC50aW1lc3RhbXApOwogICAgfSk7CiAgICB0aW1lX2RhdGEuc29ydCgpOwogICAgdGltZV9kYXRhLmZvckVhY2goKHRpbWUpPT57CiAgICAgIHJlc3BvbnNlX2RhdGEuZm9yRWFjaCgoZWxlbWVudDogeyB0aW1lc3RhbXA6IHN0cmluZzsgfSkgPT4gewogICAgICAgIGlmICh0aW1lPT1lbGVtZW50LnRpbWVzdGFtcCl7CiAgICAgICAgICBzb3J0X2RhdGEucHVzaChlbGVtZW50KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgICByZXR1cm4gc29ydF9kYXRhCiAgfQoKICAvLyDjg4fjg7zjgr/jgpLvvJHmmYLplpPmr47jga7jgrDjg6vjg7zjg5fjgavliIblibIKICBzcGxpdF9ob3VyKHNvcnRfZGF0YTphbnkpewogICAgbGV0IG1hcDp7W2tleTpzdHJpbmddOkFycmF5PGFueT59PXt9OwogICAgICBsZXQgaG91cj0iIgogICAgICBzb3J0X2RhdGEuZm9yRWFjaCgoZWxlbWVudDogeyB0aW1lc3RhbXA6IHN0cmluZzsgfSkgPT4gewogICAgICAgIGlmIChob3VyIT1lbGVtZW50LnRpbWVzdGFtcC5zbGljZSgxMSwxMykpewogICAgICAgIG1hcFtlbGVtZW50LnRpbWVzdGFtcC5zbGljZSgxMSwxMyldPVtlbGVtZW50XTsKICAgICAgICB9CiAgICAgICAgZWxzZXsKICAgICAgICAgIGxldCBhcnJheT1tYXBbZWxlbWVudC50aW1lc3RhbXAuc2xpY2UoMTEsMTMpXQogICAgICAgICAgYXJyYXkucHVzaChlbGVtZW50KTsKICAgICAgICAgIG1hcFtlbGVtZW50LnRpbWVzdGFtcC5zbGljZSgxMSwxMyldPWFycmF5OwogICAgICAgIH0KICAgICAgICBob3VyPWVsZW1lbnQudGltZXN0YW1wLnNsaWNlKDExLDEzKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBtYXAKICB9CgogIC8vIOWQhOawtOa3seOBq+OBiuOBkeOCi+ODh+ODvOOCv+OBq+WIhuWJsgogIGV4dHJhY3RfZGF0YShzcGxpdF9kYXRhOntba2V5OnN0cmluZ106QXJyYXk8YW55Pn0pewogICAgbGV0IGV4dHJhY3RfZGF0YTp7W2tleTpudW1iZXJdOkFycmF5PGFueT59PXt9OwogICAgZm9yKGxldCBpPTE7IGk8PTExOyBpKyspewogICAgICBleHRyYWN0X2RhdGFbaV09W10KICAgICAgZm9yIChsZXQga2V5IGluIHNwbGl0X2RhdGEpewogICAgICAgIGxldCBkYXRhOmFueTsKICAgICAgICBsZXQgZGVmZl9hcnJheTpBcnJheTxudW1iZXI+PVtdOwogICAgICAgIHNwbGl0X2RhdGFba2V5XS5mb3JFYWNoKChlbGVtZW50OntkZWVwOnN0cmluZ30pPT57CiAgICAgICAgICBpZiAoZWxlbWVudC5kZWVwIT0iTm9uZSIpewogICAgICAgICAgICBkZWZmX2FycmF5LnB1c2goTWF0aC5hYnMoTnVtYmVyKGVsZW1lbnQuZGVlcCktaSkpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGxldCBtaW49TWF0aC5taW4oLi4uZGVmZl9hcnJheSk7CiAgICAgICAgbGV0IGluZGV4PWRlZmZfYXJyYXkuaW5kZXhPZihtaW4pOwogICAgICAgIGRhdGE9c3BsaXRfZGF0YVtrZXldW2luZGV4XTsKICAgICAgICBleHRyYWN0X2RhdGFbaV0ucHVzaChkYXRhKTsKICAgICAgfQogICAgfQogICAgZm9yIChsZXQga2V5IGluIGV4dHJhY3RfZGF0YSl7CiAgICAgIGV4dHJhY3RfZGF0YVtrZXldPXRoaXMuc29ydF9kYXRhKGV4dHJhY3RfZGF0YVtrZXldKTsKICAgIH0KICAgIHJldHVybiBleHRyYWN0X2RhdGE7CiAgfQp9Cg=="},{"version":3,"sources":[" AxiosTest.vue"],"names":[],"mappings":";AASA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":" AxiosTest.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n      <button @click=\"get_data()\">get data</button>\n      <!--- textに日付を入力　--->\n      <input type=\"text\" v-model=\"text\"/>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Vue from 'vue';\n//\nimport {Component,Vue} from 'vue-property-decorator';\nimport Datepicker from 'vuejs-datepicker';\nimport { ja } from 'vuejs-datepicker/dist/locale';\n//\nexport default class AxiosTest extends Vue {\n  //　日付を指定\n  text:string=\"2023-07-27\";\n\n  async get_data(){\n      // postで送信するデータ\n      let post_data={\n          \"date\":this.text,\n      };\n\n      //水深ごとのデータを持ってくる。\n      //  postでデータを送信\n      let extract_data:{[key:number]:Array<any>} = await axios.post('https://8bkd65vrbj.execute-api.ap-northeast-1.amazonaws.com/dev',post_data)\n          .then((response)=>{\n              // データ取得\n              let response_data=response.data.body;\n              console.log(response_data);\n              // sort_data関数の戻り値（ソートされたデータ）を代入\n              let sort_data=this.sort_data(response_data);\n              // データを1時間ごとの集合に分ける\n              let split_data=this.split_hour(sort_data);\n              // データを水深毎にとる\n              let extract_data2=this.extract_data(split_data);\n              console.log(extract_data2);\n              //5mなのでインデックス５\n              console.log(extract_data2[5]);\n              return extract_data2;\n          });\n          return extract_data\n  }\n\n  // データをソートするための関数\n  sort_data(response_data:any){\n    let time_data:Array<string>=[]\n    let sort_data:any=[];\n    response_data.forEach((element: { timestamp: string; }) => {\n      time_data.push(element.timestamp);\n    });\n    time_data.sort();\n    time_data.forEach((time)=>{\n      response_data.forEach((element: { timestamp: string; }) => {\n        if (time==element.timestamp){\n          sort_data.push(element);\n        }\n      });\n    });\n    return sort_data\n  }\n\n  // データを１時間毎のグループに分割\n  split_hour(sort_data:any){\n    let map:{[key:string]:Array<any>}={};\n      let hour=\"\"\n      sort_data.forEach((element: { timestamp: string; }) => {\n        if (hour!=element.timestamp.slice(11,13)){\n        map[element.timestamp.slice(11,13)]=[element];\n        }\n        else{\n          let array=map[element.timestamp.slice(11,13)]\n          array.push(element);\n          map[element.timestamp.slice(11,13)]=array;\n        }\n        hour=element.timestamp.slice(11,13);\n      });\n      return map\n  }\n\n  // 各水深におけるデータに分割\n  extract_data(split_data:{[key:string]:Array<any>}){\n    let extract_data:{[key:number]:Array<any>}={};\n    for(let i=1; i<=11; i++){\n      extract_data[i]=[]\n      for (let key in split_data){\n        let data:any;\n        let deff_array:Array<number>=[];\n        split_data[key].forEach((element:{deep:string})=>{\n          if (element.deep!=\"None\"){\n            deff_array.push(Math.abs(Number(element.deep)-i));\n          }\n        });\n        let min=Math.min(...deff_array);\n        let index=deff_array.indexOf(min);\n        data=split_data[key][index];\n        extract_data[i].push(data);\n      }\n    }\n    for (let key in extract_data){\n      extract_data[key]=this.sort_data(extract_data[key]);\n    }\n    return extract_data;\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\nbutton{\n  width: 100px;\n  height: 50px;\n  border-radius: 10%;\n}\n</style>"]}]}