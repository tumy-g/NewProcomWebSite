import{r as t,h as n,H as r}from"./p-33b9aa6b.js";import{Logger as e,I18n as o}from"@aws-amplify/core";import{M as i,A as s}from"./p-417bb5ea.js";import{Auth as a}from"@aws-amplify/auth";import{T as u}from"./p-956a9917.js";import{N as c}from"./p-900152ca.js";import{d as f,o as l,a as h}from"./p-5298f93e.js";import{c as d}from"./p-bd9e854b.js";const p=class{constructor(n){t(this,n),this.placeholder="",this.checked=!1,this.disabled=!1}componentWillLoad(){console.warn("Version `1.x` of Amplify UI has been deprecated and will be removed in a future major version of `aws-amplify`. Please visit https://ui.docs.amplify.aws/ for the current version of Amplify UI.")}render(){return n("span",{class:"radio-button"},n("input",Object.assign({type:"radio",name:this.name,value:this.value,onInput:this.handleInputChange,placeholder:this.placeholder,id:this.fieldId,checked:this.checked,disabled:this.disabled},this.inputProps)),n("amplify-label",{htmlFor:this.fieldId},this.label))}};p.style=":host{--font-family:var(--amplify-font-family)}.radio-button{display:block;width:100%;padding:16px;font-size:var(--amplify-text-sm);font-family:var(--font-family)}.radio-button input{margin-right:12px}";const m=class{constructor(n){t(this,n),this.message=""}componentWillLoad(){console.warn("Version `1.x` of Amplify UI has been deprecated and will be removed in a future major version of `aws-amplify`. Please visit https://ui.docs.amplify.aws/ for the current version of Amplify UI.")}render(){return n("div",{class:"toast"},n("amplify-icon",{class:"toast-icon",name:"warning"}),this.message?n("span",null,this.message):null,n("slot",null),n("button",{class:"toast-close",onClick:this.handleClose}))}};m.style=':host{--background-color:var(--amplify-secondary-tint);--color:var(--amplify-white);--font-size:var(--amplify-text-sm);--font-family:var(--amplify-font-family);--close-icon-color:var(--amplify-white);--close-icon-hover:var(--amplify-red)}.toast-icon{padding-right:5px}.toast{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;position:absolute;top:0;left:0;width:100%;z-index:99;-webkit-box-shadow:0 0 5px 0 rgba(0, 0, 0, 0.3);box-shadow:0 0 5px 0 rgba(0, 0, 0, 0.3);padding:16px;background-color:var(--background-color);font-size:var(--font-size);color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:5px;font-family:var(--font-family)}.toast>span{margin-right:10px}.toast-close{margin-left:auto;-ms-flex-item-align:center;align-self:center;position:relative;width:18px;height:18px;overflow:hidden;cursor:pointer;background:transparent;border:none}.toast-close::before,.toast-close::after{content:"";position:absolute;height:2px;width:100%;top:50%;left:0;margin-top:-1px;background:var(--close-icon-color)}.toast-close:hover::before,.toast-close:hover::after{background:var(--close-icon-hover)}.toast-close::before{-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.toast-close::after{-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);transform:rotate(-45deg)}';var w=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then};let v;const g=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];var y=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},b=function(t){return g[t]},E=function(t){let n=0;for(;0!==t;)n++,t>>>=1;return n},x=function(){return void 0!==v},A=function(t){return v(t)};function T(t,n,r){return t(r={path:n,exports:{},require:function(){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},r.exports),r.exports}var k=T((function(t,n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2},n.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},n.from=function(t,r){if(n.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(e){return r}}}));function I(){this.buffer=[],this.length=0}I.prototype={get:function(t){const n=Math.floor(t/8);return 1==(this.buffer[n]>>>7-t%8&1)},put:function(t,n){for(let r=0;r<n;r++)this.putBit(1==(t>>>n-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}};var M=I;function U(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}U.prototype.set=function(t,n,r,e){const o=t*this.size+n;this.data[o]=r,e&&(this.reservedBit[o]=!0)},U.prototype.get=function(t,n){return this.data[t*this.size+n]},U.prototype.xor=function(t,n,r){this.data[t*this.size+n]^=r},U.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]};var P=U,R=T((function(t,n){const r=y;n.getRowColCoords=function(t){if(1===t)return[];const n=Math.floor(t/7)+2,e=r(t),o=145===e?26:2*Math.ceil((e-13)/(2*n-2)),i=[e-7];for(let r=1;r<n-1;r++)i[r]=i[r-1]-o;return i.push(6),i.reverse()},n.getPositions=function(t){const r=[],e=n.getRowColCoords(t),o=e.length;for(let n=0;n<o;n++)for(let t=0;t<o;t++)0===n&&0===t||0===n&&t===o-1||n===o-1&&0===t||r.push([e[n],e[t]]);return r}}));const C=y;var N=T((function(t,n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function r(t,r,e){switch(t){case n.Patterns.PATTERN000:return(r+e)%2==0;case n.Patterns.PATTERN001:return r%2==0;case n.Patterns.PATTERN010:return e%3==0;case n.Patterns.PATTERN011:return(r+e)%3==0;case n.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(e/3))%2==0;case n.Patterns.PATTERN101:return r*e%2+r*e%3==0;case n.Patterns.PATTERN110:return(r*e%2+r*e%3)%2==0;case n.Patterns.PATTERN111:return(r*e%3+(r+e)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}n.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},n.from=function(t){return n.isValid(t)?parseInt(t,10):void 0},n.getPenaltyN1=function(t){const n=t.size;let r=0,e=0,o=0,i=null,s=null;for(let a=0;a<n;a++){e=o=0,i=s=null;for(let u=0;u<n;u++){let n=t.get(a,u);n===i?e++:(e>=5&&(r+=e-5+3),i=n,e=1),n=t.get(u,a),n===s?o++:(o>=5&&(r+=o-5+3),s=n,o=1)}e>=5&&(r+=e-5+3),o>=5&&(r+=o-5+3)}return r},n.getPenaltyN2=function(t){const n=t.size;let r=0;for(let e=0;e<n-1;e++)for(let o=0;o<n-1;o++){const n=t.get(e,o)+t.get(e,o+1)+t.get(e+1,o)+t.get(e+1,o+1);4!==n&&0!==n||r++}return 3*r},n.getPenaltyN3=function(t){const n=t.size;let r=0,e=0,o=0;for(let i=0;i<n;i++){e=o=0;for(let s=0;s<n;s++)e=e<<1&2047|t.get(i,s),s>=10&&(1488===e||93===e)&&r++,o=o<<1&2047|t.get(s,i),s>=10&&(1488===o||93===o)&&r++}return 40*r},n.getPenaltyN4=function(t){let n=0;const r=t.data.length;for(let e=0;e<r;e++)n+=t.data[e];return 10*Math.abs(Math.ceil(100*n/r/5)-10)},n.applyMask=function(t,n){const e=n.size;for(let o=0;o<e;o++)for(let i=0;i<e;i++)n.isReserved(i,o)||n.xor(i,o,r(t,i,o))},n.getBestMask=function(t,r){const e=Object.keys(n.Patterns).length;let o=0,i=1/0;for(let s=0;s<e;s++){r(s),n.applyMask(s,t);const e=n.getPenaltyN1(t)+n.getPenaltyN2(t)+n.getPenaltyN3(t)+n.getPenaltyN4(t);n.applyMask(s,t),e<i&&(i=e,o=s)}return o}}));const F=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],j=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];var B=function(t,n){switch(n){case k.L:return F[4*(t-1)+0];case k.M:return F[4*(t-1)+1];case k.Q:return F[4*(t-1)+2];case k.H:return F[4*(t-1)+3];default:return}},_=function(t,n){switch(n){case k.L:return j[4*(t-1)+0];case k.M:return j[4*(t-1)+1];case k.Q:return j[4*(t-1)+2];case k.H:return j[4*(t-1)+3];default:return}};const z=new Uint8Array(512),$=new Uint8Array(256);!function(){let t=1;for(let n=0;n<255;n++)z[n]=t,$[t]=n,t<<=1,256&t&&(t^=285);for(let n=255;n<512;n++)z[n]=z[n-255]}();var L=function(t,n){return 0===t||0===n?0:z[$[t]+$[n]]},O=T((function(t,n){n.mul=function(t,n){const r=new Uint8Array(t.length+n.length-1);for(let e=0;e<t.length;e++)for(let o=0;o<n.length;o++)r[e+o]^=L(t[e],n[o]);return r},n.mod=function(t,n){let r=new Uint8Array(t);for(;r.length-n.length>=0;){const t=r[0];for(let o=0;o<n.length;o++)r[o]^=L(n[o],t);let e=0;for(;e<r.length&&0===r[e];)e++;r=r.slice(e)}return r},n.generateECPolynomial=function(t){let r=new Uint8Array([1]);for(let o=0;o<t;o++)r=n.mul(r,new Uint8Array([1,(e=o,z[e])]));var e;return r}}));function S(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}S.prototype.initialize=function(t){this.degree=t,this.genPoly=O.generateECPolynomial(this.degree)},S.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=O.mod(n,this.genPoly),e=this.degree-r.length;if(e>0){const t=new Uint8Array(this.degree);return t.set(r,e),t}return r};var Q=S,q=function(t){return!isNaN(t)&&t>=1&&t<=40};let D="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";D=D.replace(/u/g,"\\u");const J="(?:(?![A-Z0-9 $%*+\\-./:]|"+D+")(?:.|[\r\n]))+";var K=new RegExp(D,"g"),Z=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),H=new RegExp(J,"g"),V=new RegExp("[0-9]+","g"),W=new RegExp("[A-Z $%*+\\-./:]+","g");const Y=new RegExp("^"+D+"$"),G=new RegExp("^[0-9]+$"),X=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");var tt={KANJI:K,BYTE_KANJI:Z,BYTE:H,NUMERIC:V,ALPHANUMERIC:W,testKanji:function(t){return Y.test(t)},testNumeric:function(t){return G.test(t)},testAlphanumeric:function(t){return X.test(t)}},nt=T((function(t,n){n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(t,n){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!q(n))throw new Error("Invalid version: "+n);return n>=1&&n<10?t.ccBits[0]:n<27?t.ccBits[1]:t.ccBits[2]},n.getBestModeForData=function(t){return tt.testNumeric(t)?n.NUMERIC:tt.testAlphanumeric(t)?n.ALPHANUMERIC:tt.testKanji(t)?n.KANJI:n.BYTE},n.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},n.isValid=function(t){return t&&t.bit&&t.ccBits},n.from=function(t,r){if(n.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(e){return r}}})),rt=T((function(t,n){const r=E(7973);function e(t,n){return nt.getCharCountIndicator(t,n)+4}function o(t,n){let r=0;return t.forEach((function(t){const o=e(t.mode,n);r+=o+t.getBitsLength()})),r}n.from=function(t,n){return q(t)?parseInt(t,10):n},n.getCapacity=function(t,n,r){if(!q(t))throw new Error("Invalid QR Code version");void 0===r&&(r=nt.BYTE);const o=8*(b(t)-_(t,n));if(r===nt.MIXED)return o;const i=o-e(r,t);switch(r){case nt.NUMERIC:return Math.floor(i/10*3);case nt.ALPHANUMERIC:return Math.floor(i/11*2);case nt.KANJI:return Math.floor(i/13);case nt.BYTE:default:return Math.floor(i/8)}},n.getBestVersionForData=function(t,r){let e;const i=k.from(r,k.M);if(Array.isArray(t)){if(t.length>1)return function(t,r){for(let e=1;e<=40;e++)if(o(t,e)<=n.getCapacity(e,r,nt.MIXED))return e}(t,i);if(0===t.length)return 1;e=t[0]}else e=t;return function(t,r,e){for(let o=1;o<=40;o++)if(r<=n.getCapacity(o,e,t))return o}(e.mode,e.getLength(),i)},n.getEncodedBits=function(t){if(!q(t)||t<7)throw new Error("Invalid QR Code version");let n=t<<12;for(;E(n)-r>=0;)n^=7973<<E(n)-r;return t<<12|n}}));const et=E(1335);function ot(t){this.mode=nt.NUMERIC,this.data=t.toString()}ot.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},ot.prototype.getLength=function(){return this.data.length},ot.prototype.getBitsLength=function(){return ot.getBitsLength(this.data.length)},ot.prototype.write=function(t){let n,r,e;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),e=parseInt(r,10),t.put(e,10);const o=this.data.length-n;o>0&&(r=this.data.substr(n),e=parseInt(r,10),t.put(e,3*o+1))};var it=ot;const st=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function at(t){this.mode=nt.ALPHANUMERIC,this.data=t}at.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},at.prototype.getLength=function(){return this.data.length},at.prototype.getBitsLength=function(){return at.getBitsLength(this.data.length)},at.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=45*st.indexOf(this.data[n]);r+=st.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(st.indexOf(this.data[n]),6)};var ut=at;function ct(t){this.mode=nt.BYTE,"string"==typeof t&&(t=function(t){for(var n=[],r=t.length,e=0;e<r;e++){var o=t.charCodeAt(e);if(o>=55296&&o<=56319&&r>e+1){var i=t.charCodeAt(e+1);i>=56320&&i<=57343&&(o=1024*(o-55296)+i-56320+65536,e+=1)}o<128?n.push(o):o<2048?(n.push(o>>6|192),n.push(63&o|128)):o<55296||o>=57344&&o<65536?(n.push(o>>12|224),n.push(o>>6&63|128),n.push(63&o|128)):o>=65536&&o<=1114111?(n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(63&o|128)):n.push(239,191,189)}return new Uint8Array(n).buffer}(t)),this.data=new Uint8Array(t)}ct.getBitsLength=function(t){return 8*t},ct.prototype.getLength=function(){return this.data.length},ct.prototype.getBitsLength=function(){return ct.getBitsLength(this.data.length)},ct.prototype.write=function(t){for(let n=0,r=this.data.length;n<r;n++)t.put(this.data[n],8)};var ft=ct;function lt(t){this.mode=nt.KANJI,this.data=t}lt.getBitsLength=function(t){return 13*t},lt.prototype.getLength=function(){return this.data.length},lt.prototype.getBitsLength=function(){return lt.getBitsLength(this.data.length)},lt.prototype.write=function(t){let n;for(n=0;n<this.data.length;n++){let r=A(this.data[n]);if(r>=33088&&r<=40956)r-=33088;else{if(!(r>=57408&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[n]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),t.put(r,13)}};var ht=lt,dt=T((function(t){var n={single_source_shortest_paths:function(t,r,e){var o={},i={};i[r]=0;var s,a,u,c,f,l,h=n.PriorityQueue.make();for(h.push(r,0);!h.empty();)for(u in c=(s=h.pop()).cost,f=t[a=s.value]||{})f.hasOwnProperty(u)&&(l=c+f[u],(void 0===i[u]||i[u]>l)&&(i[u]=l,h.push(u,l),o[u]=a));if(void 0!==e&&void 0===i[e]){var d=["Could not find a path from ",r," to ",e,"."].join("");throw new Error(d)}return o},extract_shortest_path_from_predecessor_list:function(t,n){for(var r=[],e=n;e;)r.push(e),e=t[e];return r.reverse(),r},find_path:function(t,r,e){var o=n.single_source_shortest_paths(t,r,e);return n.extract_shortest_path_from_predecessor_list(o,e)},PriorityQueue:{make:function(t){var r,e=n.PriorityQueue,o={};for(r in t=t||{},e)e.hasOwnProperty(r)&&(o[r]=e[r]);return o.queue=[],o.sorter=t.sorter||e.default_sorter,o},default_sorter:function(t,n){return t.cost-n.cost},push:function(t,n){this.queue.push({value:t,cost:n}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=n})),pt=T((function(t,n){function r(t){return unescape(encodeURIComponent(t)).length}function e(t,n,r){const e=[];let o;for(;null!==(o=t.exec(r));)e.push({data:o[0],index:o.index,mode:n,length:o[0].length});return e}function o(t){const n=e(tt.NUMERIC,nt.NUMERIC,t),r=e(tt.ALPHANUMERIC,nt.ALPHANUMERIC,t);let o,i;return x()?(o=e(tt.BYTE,nt.BYTE,t),i=e(tt.KANJI,nt.KANJI,t)):(o=e(tt.BYTE_KANJI,nt.BYTE,t),i=[]),n.concat(r,o,i).sort((function(t,n){return t.index-n.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function i(t,n){switch(n){case nt.NUMERIC:return it.getBitsLength(t);case nt.ALPHANUMERIC:return ut.getBitsLength(t);case nt.KANJI:return ht.getBitsLength(t);case nt.BYTE:return ft.getBitsLength(t)}}function s(t,n){let r;const e=nt.getBestModeForData(t);if(r=nt.from(n,e),r!==nt.BYTE&&r.bit<e.bit)throw new Error('"'+t+'" cannot be encoded with mode '+nt.toString(r)+".\n Suggested mode is: "+nt.toString(e));switch(r!==nt.KANJI||x()||(r=nt.BYTE),r){case nt.NUMERIC:return new it(t);case nt.ALPHANUMERIC:return new ut(t);case nt.KANJI:return new ht(t);case nt.BYTE:return new ft(t)}}n.fromArray=function(t){return t.reduce((function(t,n){return"string"==typeof n?t.push(s(n,null)):n.data&&t.push(s(n.data,n.mode)),t}),[])},n.fromString=function(t,e){const s=function(t,n){const r={},e={start:{}};let o=["start"];for(let s=0;s<t.length;s++){const a=t[s],u=[];for(let t=0;t<a.length;t++){const c=a[t],f=""+s+t;u.push(f),r[f]={node:c,lastCount:0},e[f]={};for(let t=0;t<o.length;t++){const s=o[t];r[s]&&r[s].node.mode===c.mode?(e[s][f]=i(r[s].lastCount+c.length,c.mode)-i(r[s].lastCount,c.mode),r[s].lastCount+=c.length):(r[s]&&(r[s].lastCount=c.length),e[s][f]=i(c.length,c.mode)+4+nt.getCharCountIndicator(c.mode,n))}}o=u}for(let i=0;i<o.length;i++)e[o[i]].end=0;return{map:e,table:r}}(function(t){const n=[];for(let e=0;e<t.length;e++){const o=t[e];switch(o.mode){case nt.NUMERIC:n.push([o,{data:o.data,mode:nt.ALPHANUMERIC,length:o.length},{data:o.data,mode:nt.BYTE,length:o.length}]);break;case nt.ALPHANUMERIC:n.push([o,{data:o.data,mode:nt.BYTE,length:o.length}]);break;case nt.KANJI:n.push([o,{data:o.data,mode:nt.BYTE,length:r(o.data)}]);break;case nt.BYTE:n.push([{data:o.data,mode:nt.BYTE,length:r(o.data)}])}}return n}(o(t,x())),e),a=dt.find_path(s.map,"start","end"),u=[];for(let n=1;n<a.length-1;n++)u.push(s.table[a[n]].node);return n.fromArray(u.reduce((function(t,n){const r=t.length-1>=0?t[t.length-1]:null;return r&&r.mode===n.mode?(t[t.length-1].data+=n.data,t):(t.push(n),t)}),[]))},n.rawSplit=function(t){return n.fromArray(o(t,x()))}}));function mt(t,n,r){const e=t.size,o=function(t,n){const r=t.bit<<3|n;let e=r<<10;for(;E(e)-et>=0;)e^=1335<<E(e)-et;return 21522^(r<<10|e)}(n,r);let i,s;for(i=0;i<15;i++)s=1==(o>>i&1),t.set(i<6?i:i<8?i+1:e-15+i,8,s,!0),t.set(8,i<8?e-i-1:i<9?15-i-1+1:15-i-1,s,!0);t.set(e-8,8,1,!0)}function wt(t,n,r,e){let o;if(Array.isArray(t))o=pt.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");{let e=n;if(!e){const n=pt.rawSplit(t);e=rt.getBestVersionForData(n,r)}o=pt.fromString(t,e||40)}}const i=rt.getBestVersionForData(o,r);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(n){if(n<i)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+i+".\n")}else n=i;const s=function(t,n,r){const e=new M;r.forEach((function(n){e.put(n.mode.bit,4),e.put(n.getLength(),nt.getCharCountIndicator(n.mode,t)),n.write(e)}));const o=8*(b(t)-_(t,n));for(e.getLengthInBits()+4<=o&&e.put(0,4);e.getLengthInBits()%8!=0;)e.putBit(0);const i=(o-e.getLengthInBits())/8;for(let s=0;s<i;s++)e.put(s%2?17:236,8);return function(t,n,r){const e=b(n),o=e-_(n,r),i=B(n,r),s=i-e%i,a=Math.floor(e/i),u=Math.floor(o/i),c=u+1,f=a-u,l=new Q(f);let h=0;const d=new Array(i),p=new Array(i);let m=0;const w=new Uint8Array(t.buffer);for(let b=0;b<i;b++){const t=b<s?u:c;d[b]=w.slice(h,h+t),p[b]=l.encode(d[b]),h+=t,m=Math.max(m,t)}const v=new Uint8Array(e);let g,y,E=0;for(g=0;g<m;g++)for(y=0;y<i;y++)g<d[y].length&&(v[E++]=d[y][g]);for(g=0;g<f;g++)for(y=0;y<i;y++)v[E++]=p[y][g];return v}(e,t,n)}(n,r,o),a=y(n),u=new P(a);return function(t,n){const r=t.size,e=function(t){const n=C(t);return[[0,0],[n-7,0],[0,n-7]]}(n);for(let o=0;o<e.length;o++){const n=e[o][0],i=e[o][1];for(let e=-1;e<=7;e++)if(!(n+e<=-1||r<=n+e))for(let o=-1;o<=7;o++)i+o<=-1||r<=i+o||t.set(n+e,i+o,e>=0&&e<=6&&(0===o||6===o)||o>=0&&o<=6&&(0===e||6===e)||e>=2&&e<=4&&o>=2&&o<=4,!0)}}(u,n),function(t){const n=t.size;for(let r=8;r<n-8;r++){const n=r%2==0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}(u),function(t,n){const r=R.getPositions(n);for(let e=0;e<r.length;e++){const n=r[e][0],o=r[e][1];for(let r=-2;r<=2;r++)for(let e=-2;e<=2;e++)t.set(n+r,o+e,-2===r||2===r||-2===e||2===e||0===r&&0===e,!0)}}(u,n),mt(u,r,0),n>=7&&function(t,n){const r=t.size,e=rt.getEncodedBits(n);let o,i,s;for(let a=0;a<18;a++)o=Math.floor(a/3),i=a%3+r-8-3,s=1==(e>>a&1),t.set(o,i,s,!0),t.set(i,o,s,!0)}(u,n),function(t,n){const r=t.size;let e=-1,o=r-1,i=7,s=0;for(let a=r-1;a>0;a-=2)for(6===a&&a--;;){for(let r=0;r<2;r++)if(!t.isReserved(o,a-r)){let e=!1;s<n.length&&(e=1==(n[s]>>>i&1)),t.set(o,a-r,e),i--,-1===i&&(s++,i=7)}if(o+=e,o<0||r<=o){o-=e,e=-e;break}}}(u,s),isNaN(e)&&(e=N.getBestMask(u,mt.bind(null,u,r))),N.applyMask(e,u),mt(u,r,e),{modules:u,version:n,errorCorrectionLevel:r,maskPattern:e,segments:o}}var vt=function(t,n){if(void 0===t||""===t)throw new Error("No input text");let r,e,o=k.M;return void 0!==n&&(o=k.from(n.errorCorrectionLevel,k.M),r=rt.from(n.version),e=N.from(n.maskPattern),n.toSJISFunc&&function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');v=t}(n.toSJISFunc)),wt(t,r,o,e)},gt=T((function(t,n){function r(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");let n=t.slice().replace("#","").split("");if(n.length<3||5===n.length||n.length>8)throw new Error("Invalid hex color: "+t);3!==n.length&&4!==n.length||(n=Array.prototype.concat.apply([],n.map((function(t){return[t,t]})))),6===n.length&&n.push("F","F");const r=parseInt(n.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+n.slice(0,6).join("")}}n.getOptions=function(t){t||(t={}),t.color||(t.color={});const n=t.width&&t.width>=21?t.width:void 0;return{width:n,scale:n?4:t.scale||4,margin:null==t.margin||t.margin<0?4:t.margin,color:{dark:r(t.color.dark||"#000000ff"),light:r(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},n.getScale=function(t,n){return n.width&&n.width>=t+2*n.margin?n.width/(t+2*n.margin):n.scale},n.getImageWidth=function(t,r){const e=n.getScale(t,r);return Math.floor((t+2*r.margin)*e)},n.qrToImageData=function(t,r,e){const o=r.modules.size,i=r.modules.data,s=n.getScale(o,e),a=Math.floor((o+2*e.margin)*s),u=e.margin*s,c=[e.color.light,e.color.dark];for(let n=0;n<a;n++)for(let r=0;r<a;r++){let f=4*(n*a+r),l=e.color.light;n>=u&&r>=u&&n<a-u&&r<a-u&&(l=c[i[Math.floor((n-u)/s)*o+Math.floor((r-u)/s)]?1:0]),t[f++]=l.r,t[f++]=l.g,t[f++]=l.b,t[f]=l.a}}})),yt=T((function(t,n){n.render=function(t,n,r){let e=r,o=n;void 0!==e||n&&n.getContext||(e=n,n=void 0),n||(o=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),e=gt.getOptions(e);const i=gt.getImageWidth(t.modules.size,e),s=o.getContext("2d"),a=s.createImageData(i,i);return gt.qrToImageData(a.data,t,e),function(t,n,r){t.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=r,n.width=r,n.style.height=r+"px",n.style.width=r+"px"}(s,o,i),s.putImageData(a,0,0),o},n.renderToDataURL=function(t,r,e){let o=e;return void 0!==o||r&&r.getContext||(o=r,r=void 0),o||(o={}),n.render(t,r,o).toDataURL(o.type||"image/png",(o.rendererOpts||{}).quality)}}));function bt(t,n){const r=t.a/255,e=n+'="'+t.hex+'"';return r<1?e+" "+n+'-opacity="'+r.toFixed(2).slice(1)+'"':e}function Et(t,n,r){let e=t+n;return void 0!==r&&(e+=" "+r),e}function xt(t,n,r,e,o){const i=[].slice.call(arguments,1),s=i.length,a="function"==typeof i[s-1];if(!a&&!w())throw new Error("Callback required as last argument");if(!a){if(s<1)throw new Error("Too few arguments provided");return 1===s?(r=n,n=e=void 0):2!==s||n.getContext||(e=r,r=n,n=void 0),new Promise((function(o,i){try{const i=vt(r,e);o(t(i,n,e))}catch(s){i(s)}}))}if(s<2)throw new Error("Too few arguments provided");2===s?(o=r,r=n,n=e=void 0):3===s&&(n.getContext&&void 0===o?(o=e,e=void 0):(o=e,e=r,r=n,n=void 0));try{const i=vt(r,e);o(null,t(i,n,e))}catch(u){o(u)}}var At={create:vt,toCanvas:xt.bind(null,yt.render),toDataURL:xt.bind(null,yt.renderToDataURL),toString:xt.bind(null,(function(t,n,r){return function(t,n,r){const e=gt.getOptions(n),o=t.modules.size,i=t.modules.data,s=o+2*e.margin,a=e.color.light.a?"<path "+bt(e.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",u="<path "+bt(e.color.dark,"stroke")+' d="'+function(t,n,r){let e="",o=0,i=!1,s=0;for(let a=0;a<t.length;a++){const u=Math.floor(a%n),c=Math.floor(a/n);u||i||(i=!0),t[a]?(s++,a>0&&u>0&&t[a-1]||(e+=i?Et("M",u+r,.5+c+r):Et("m",o,0),o=0,i=!1),u+1<n&&t[a+1]||(e+=Et("h",s),s=0)):o++}return e}(i,o,e.margin)+'"/>',c='<svg xmlns="http://www.w3.org/2000/svg" '+(e.width?'width="'+e.width+'" height="'+e.width+'" ':"")+'viewBox="0 0 '+s+" "+s+'" shape-rendering="crispEdges">'+a+u+"</svg>\n";return"function"==typeof r&&r(null,c),c}(t,r)}))};const Tt=new e("TOTP"),kt=class{constructor(n){t(this,n),this.inputProps={autoFocus:!0},this.handleAuthStateChange=f,this.headerText=u.TOTP_HEADER_TEXT,this.issuer=u.TOTP_ISSUER,this.handleComplete=this.onTOTPEvent,this.standalone=!1,this.code=null,this.setupMessage=null,this.qrCodeInput=null,this.loading=!1}async componentWillLoad(){console.warn("Version `1.x` of Amplify UI has been deprecated and will be removed in a future major version of `aws-amplify`. Please visit https://ui.docs.amplify.aws/ for the current version of Amplify UI."),this.standalone||(this.removeHubListener=l(t=>{t===s.TOTPSetup&&this.setup()})),await this.setup()}handleUserChange(){this.standalone&&this.setup()}disconnectedCallback(){this.removeHubListener&&this.removeHubListener()}buildOtpAuthPath(t,n,r){return`otpauth://totp/${n}:${t.username}?secret=${r}&issuer=${n}`}async onTOTPEvent(t){Tt.debug("on totp event"),await d(t,this.handleAuthStateChange)}handleTotpInputChange(t){this.setupMessage=null,this.qrCodeInput=t.target.value}async generateQRCode(t){try{this.qrCodeImageSource=await At.toDataURL(t)}catch(n){h(n)}}async setup(){if(this.code||this.loading)return void Tt.debug("setup was attempted while another is in progress, skipping setup.");if(!this.user||!this.user.associateSoftwareToken)return void Tt.debug("setup was attempted with invalid `user`, skipping setup.",this.user);if(!a||"function"!=typeof a.setupTOTP)throw new Error(c);this.setupMessage=null;const t=encodeURI(o.get(this.issuer));this.loading=!0;try{const n=await a.setupTOTP(this.user);Tt.debug("secret key",n),this.code=this.buildOtpAuthPath(this.user,t,n),this.generateQRCode(this.code)}catch(n){h(n),Tt.debug(o.get(u.TOTP_SETUP_FAILURE),n)}finally{this.loading=!1}}async verifyTotpToken(t){if(t&&t.preventDefault(),!this.qrCodeInput)return void Tt.debug("No TOTP Code provided");const n=this.user;if(!a||"function"!=typeof a.verifyTotpToken||"function"!=typeof a.setPreferredMFA)throw new Error(c);try{await a.verifyTotpToken(n,this.qrCodeInput),await a.setPreferredMFA(n,i.TOTP),this.setupMessage=o.get(u.TOTP_SUCCESS_MESSAGE),Tt.debug(o.get(u.TOTP_SUCCESS_MESSAGE)),await this.handleComplete(n)}catch(r){this.setupMessage=o.get(u.TOTP_SETUP_FAILURE),Tt.error(r)}}render(){return n(r,null,n("amplify-form-section",{headerText:o.get(this.headerText),submitButtonText:o.get(u.TOTP_SUBMIT_BUTTON_TEXT),handleSubmit:t=>this.verifyTotpToken(t),loading:this.loading},n("div",{class:"totp-setup"},this.qrCodeImageSource&&n("img",{src:this.qrCodeImageSource,alt:o.get(u.QR_CODE_ALT)}),n("amplify-form-field",{label:o.get(u.TOTP_LABEL),inputProps:this.inputProps,fieldId:"totpCode",name:"totpCode",handleInputChange:t=>this.handleTotpInputChange(t)}))))}static get watchers(){return{user:["handleUserChange"]}}};kt.style=".totp-setup{text-align:center;margin-bottom:30px}.totp-setup img{height:128px;width:128px}";export{p as amplify_radio_button,m as amplify_toast,kt as amplify_totp_setup}