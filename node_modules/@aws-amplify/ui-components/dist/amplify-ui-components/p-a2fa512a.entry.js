import{r as t,h as e,H as i}from"./p-33b9aa6b.js";import{Logger as s,I18n as a}from"@aws-amplify/core";import{A as r}from"./p-f199eef0.js";import"@aws-amplify/auth";import{T as o}from"./p-956a9917.js";import"./p-900152ca.js";import"@aws-amplify/storage";import{c as p,p as l}from"./p-0548a042.js";const n=new s("S3TextPicker"),c=class{constructor(e){t(this,e),this.contentType="text/*",this.level=r.Public,this.fallbackText=o.PICKER_TEXT}componentWillLoad(){console.warn("Version `1.x` of Amplify UI has been deprecated and will be removed in a future major version of `aws-amplify`. Please visit https://ui.docs.amplify.aws/ for the current version of Amplify UI.")}async handleInput(t){const e=t.target.files[0],{path:i="",level:s,fileToKey:a,track:r}=this,o=i+p(e,a);if(!e)throw new Error("No file was selected");try{await l(o,e,s,r,e.type,n),this.src=o}catch(c){throw n.debug(c),new Error(c)}}render(){return e(i,null,e("amplify-s3-text",{textKey:this.src,path:this.path,level:this.level,track:this.track,identityId:this.identityId,contentType:this.contentType,fallbackText:a.get(this.fallbackText)}),e("amplify-picker",{inputHandler:t=>this.handleInput(t),acceptValue:"text/*"}))}};export{c as amplify_s3_text_picker}